!function(factory){"object"==typeof module&&module.exports?module.exports=factory:factory(Highcharts)}(function(H){function error(code,stop){var msg="Highcharts error #"+code+": www.highcharts.com/errors/"+code;if(stop)throw msg;window.console&&console.log(msg)}function getPath(arr){var ret=[];return each(arr,function(el){ret=ret.concat(el[0])}),ret}var UNDEFINED,each=H.each,seriesTypes=H.seriesTypes,pick=H.pick,NORMAL_STATE="",VISIBLE="visible",HIDDEN="hidden",PREFIX="highcharts-",NONE="none",hasTouch=document.documentElement.ontouchstart!==UNDEFINED,TRACKER_FILL="rgba(192,192,192,"+(H.hasSVG?1e-4:.002)+")",M="M",L="L";H.Series.prototype.getSegmentPath=function(segment){var series=this,segmentPath=[],step=series.options.step;return each(segment,function(point,i){var lastPoint,plotX=point.plotX,plotY=point.plotY;series.getPointSpline?segmentPath.push.apply(segmentPath,series.getPointSpline(segment,point,i)):(segmentPath.push(i?L:M),step&&i&&(lastPoint=segment[i-1],"right"===step?segmentPath.push(lastPoint.plotX,plotY,L):"center"===step?segmentPath.push((lastPoint.plotX+plotX)/2,lastPoint.plotY,L,(lastPoint.plotX+plotX)/2,plotY,L):segmentPath.push(plotX,lastPoint.plotY,L)),segmentPath.push(point.plotX,point.plotY))}),segmentPath},seriesTypes.coloredline=H.extendClass(seriesTypes.line),H.seriesTypes.coloredline.prototype.processData=function(force){var cropped,distance,closestPointRange,i,series=this,processedXData=series.xData,processedYData=series.yData,cropStart=0,xAxis=series.xAxis,options=series.options,isCartesian=series.isCartesian;if(isCartesian&&!series.isDirty&&!xAxis.isDirty&&!series.yAxis.isDirty&&!force)return!1;for(i=processedXData.length-1;i>=0;i--)distance=processedXData[i]-processedXData[i-1],distance>0&&(closestPointRange===UNDEFINED||closestPointRange>distance)?closestPointRange=distance:0>distance&&series.requireSorting&&error(15);return series.cropped=cropped,series.cropStart=cropStart,series.processedXData=processedXData,series.processedYData=processedYData,null===options.pointRange&&(series.pointRange=closestPointRange||1),series.closestPointRange=closestPointRange,!0},H.seriesTypes.coloredline.prototype.drawTracker=function(){var singlePoint,i,onMouseOver,series=this,options=series.options,trackByArea=options.trackByArea,trackerPath=[].concat(trackByArea?series.areaPath:getPath(series.graphPath)),trackerPathLength=trackerPath.length,chart=series.chart,pointer=chart.pointer,renderer=chart.renderer,snap=chart.options.tooltip.snap,tracker=series.tracker,cursor=options.cursor,css=cursor&&{cursor:cursor},singlePoints=series.singlePoints;if(onMouseOver=function(){chart.hoverSeries!==series&&series.onMouseOver()},trackerPathLength&&!trackByArea)for(i=trackerPathLength+1;i--;)trackerPath[i]===M&&trackerPath.splice(i+1,0,trackerPath[i+1]-snap,trackerPath[i+2],L),(i&&trackerPath[i]===M||i===trackerPathLength)&&trackerPath.splice(i,0,L,trackerPath[i-2]+snap,trackerPath[i-1]);for(i=0;i<singlePoints.length;i++)singlePoint=singlePoints[i],singlePoint.plotX&&singlePoint.plotY&&trackerPath.push(M,singlePoint.plotX-snap,singlePoint.plotY,L,singlePoint.plotX+snap,singlePoint.plotY);tracker?tracker.attr({d:trackerPath}):(series.tracker=renderer.path(trackerPath).attr({"stroke-linejoin":"round",visibility:series.visible?VISIBLE:HIDDEN,stroke:TRACKER_FILL,fill:trackByArea?TRACKER_FILL:NONE,"stroke-width":options.lineWidth+(trackByArea?0:2*snap),zIndex:2}).add(series.group),each([series.tracker,series.markerGroup],function(track){track.addClass(PREFIX+"tracker").on("mouseover",onMouseOver).on("mouseout",function(e){pointer.onTrackerMouseOut(e)}).css(css),hasTouch&&track.on("touchstart",onMouseOver)}))},H.seriesTypes.coloredline.prototype.setState=function(state){var attribs,series=this,options=series.options,graph=series.graph,stateOptions=options.states,lineWidth=options.lineWidth;if(state=state||NORMAL_STATE,series.state!==state){if(series.state=state,stateOptions[state]&&stateOptions[state].enabled===!1)return;state&&(lineWidth=stateOptions[state].lineWidth||lineWidth+1),graph&&!graph.dashstyle&&(attribs={"stroke-width":lineWidth},each(graph,function(seg){seg.attr(attribs)}))}},H.seriesTypes.coloredline.prototype.getSegments=function(){var i,series=this,lastColor=0,segments=[],points=series.points,pointsLength=points.length;if(pointsLength)if(series.options.connectNulls){for(i=pointsLength-1;i>=0;--i)null===points[i].y&&points.splice(i,1);pointsLength=points.length,each(points,function(point,j){j>0&&points[j].segmentColor!==points[j-1].segmentColor&&(segments.push({points:points.slice(lastColor,j+1),color:points[j-1].segmentColor}),lastColor=j)}),pointsLength&&lastColor!==pointsLength-1&&segments.push({points:points.slice(lastColor,pointsLength),color:points[pointsLength-1].segmentColor}),points.length&&0===segments.length&&(segments=[points])}else{var previousColor=null;each(points,function(point,j){var colorChanged=j>0&&(null===point.y||null===points[j-1].y||point.segmentColor!==points[j-1].segmentColor&&points[j].segmentColor!==previousColor),colorExists=points[j-1]&&points[j-1].segmentColor&&null!==points[j-1].y?!0:!1;if(colorChanged){var p=points.slice(lastColor,j+1);p.length>0&&(each(p,function(pointObject,k){null===pointObject.y&&p.splice(k,1)}),segments.push({points:p,color:colorExists?points[j-1].segmentColor:previousColor}),lastColor=j)}else if(j===pointsLength-1){var next=j+1;null===point.y&&next--,p=points.slice(lastColor,next),p.length>0&&(each(p,function(pointObject,k){null===pointObject.y&&p.splice(k,1)}),segments.push({points:p,color:colorExists?points[j-1].segmentColor:previousColor}),lastColor=j)}point&&(previousColor=point.segmentColor)})}series.segments=segments},H.seriesTypes.coloredline.prototype.getGraphPath=function(){var segmentPath,series=this,graphPath=[],singlePoints=[];return each(series.segments,function(segment){segmentPath=series.getSegmentPath(segment.points),segment.points.length>1?graphPath.push([segmentPath,segment.color]):singlePoints.push(segment.points)}),series.singlePoints=singlePoints,series.graphPath=graphPath,graphPath},H.seriesTypes.coloredline.prototype.drawGraph=function(){function getSegment(segment,prop,i){var item,attribs={stroke:prop[1],"stroke-width":lineWidth,fill:"none",zIndex:1};return dashStyle?attribs.dashstyle=dashStyle:roundCap&&(attribs["stroke-linecap"]=attribs["stroke-linejoin"]="round"),segment[1]&&(attribs.stroke=segment[1]),item=series.chart.renderer.path(segment[0]).attr(attribs).add(series.group),item.shadow&&item.shadow(!i&&options.shadow),item}var series=this,options=series.options,props=[["graph",options.lineColor||series.color]],lineWidth=options.lineWidth,dashStyle=options.dashStyle,roundCap="square"!==options.linecap,graphPath=series.getGraphPath(),graphPathLength=graphPath.length,graphSegmentsLength=0;each(props,function(prop,i){var g,graphKey=prop[0],graph=series[graphKey];graph?each(graphPath,function(segment,j){series[graphKey][j]?series[graphKey][j].attr({d:segment[0],stroke:segment[1]}):series[graphKey][j]=getSegment(segment,prop,i)}):graphPath.length&&(graph=[],each(graphPath,function(segment,j){graph[j]=getSegment(segment,prop,i)}),series[graphKey]=graph,series[graphKey].destroy=function(){for(g in series[graphKey]){var el=series[graphKey][g];el&&el.destroy&&el.destroy()}}),graphSegmentsLength=series.graph&&series.graph.length||-1;for(var j=graphSegmentsLength;j>=graphPathLength;j--)series[graphKey][j]&&(series[graphKey][j].destroy(),series[graphKey].splice(j,1))})},H.wrap(seriesTypes.coloredline.prototype,"translate",function(proceed){proceed.apply(this,[].slice.call(arguments,1)),this.getSegments&&this.getSegments()}),H.wrap(H.Series.prototype,"applyZones",function(proceed){var series=this,parts=["area","graph"];return parts.forEach(function(part){var shape=series[part];shape&&H.isArray(shape)&&(shape.show=function(){shape.forEach(function(subGraph){subGraph.show(!0)})},shape.hide=function(){shape.forEach(function(subGraph){subGraph.hide()})})}),proceed.apply(this,Array.prototype.slice.call(arguments,1))}),H.wrap(seriesTypes.coloredline.prototype,"destroy",function(proceed){this.graph.destroy(),proceed.apply(this,Array.prototype.slice.call(arguments,1))}),seriesTypes.coloredarea=H.extendClass(seriesTypes.coloredline),H.seriesTypes.coloredarea.prototype.init=function(chart,options){options.threshold=options.threshold||null,H.Series.prototype.init.call(this,chart,options)},H.seriesTypes.coloredarea.prototype.closeSegment=function(path,segment,translatedThreshold){path.push(L,segment[segment.length-1].plotX,translatedThreshold,L,segment[0].plotX,translatedThreshold)},H.seriesTypes.coloredarea.prototype.drawGraph=function(f){H.seriesTypes.coloredline.prototype.drawGraph.call(this,f);var series=this,options=this.options,props=[["graph",options.lineColor||series.color]];each(props,function(prop){var graphKey=prop[0],graph=series[graphKey];graph&&each(series.graphPath,function(segment,j){series[graphKey][j]&&series[graphKey][j].attr({fill:segment[1]})})})},H.seriesTypes.coloredarea.prototype.getSegmentPath=function(segment){var i,yBottom,segmentPath=H.Series.prototype.getSegmentPath.call(this,segment),areaSegmentPath=[].concat(segmentPath),options=this.options,segLength=segmentPath.length,translatedThreshold=this.yAxis.getThreshold(options.threshold);if(3===segLength&&areaSegmentPath.push(L,segmentPath[1],segmentPath[2]),options.stacking&&!this.closedStacks)for(i=segment.length-1;i>=0;i--)yBottom=pick(segment[i].yBottom,translatedThreshold),i<segment.length-1&&options.step&&areaSegmentPath.push(segment[i+1].plotX,yBottom),areaSegmentPath.push(segment[i].plotX,yBottom);else this.closeSegment(areaSegmentPath,segment,translatedThreshold);return areaSegmentPath},H.seriesTypes.coloredarea.prototype.getGraphPath=function(){var segmentPath,series=this,graphPath=[],singlePoints=[];return this.areaPath=[],each(series.segments,function(segment){segmentPath=series.getSegmentPath(segment.points),segment.points.length>1?graphPath.push([segmentPath,segment.color]):singlePoints.push(segment.points)}),series.singlePoints=singlePoints,series.graphPath=graphPath,graphPath},H.seriesTypes.coloredarea.prototype.drawLegendSymbol=H.LegendSymbolMixin.drawRectangle});
